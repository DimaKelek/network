(this["webpackJsonpsamurai-app"]=this["webpackJsonpsamurai-app"]||[]).push([[0],{108:function(e,t,n){e.exports={item:"MenuItem_item__3aSv9",activeLink:"MenuItem_activeLink__IUiRn"}},111:function(e,t,n){e.exports={nav:"Navbar_nav__wCzIx"}},114:function(e,t,n){e.exports={status:"Status_status__2baJz",title:"Status_title__2bJY3"}},115:function(e,t,n){e.exports={users:"Users_users__3EK-8",title:"Users_title__34Nw-"}},154:function(e,t,n){e.exports={news:"News_news__32rcs"}},155:function(e,t,n){e.exports={music:"Music_music__2pnOs"}},156:function(e,t,n){e.exports={settings:"Sattings_settings__3M1ki"}},157:function(e,t,n){e.exports={button:"MyButton_button__yFaL3"}},158:function(e,t,n){e.exports={header_box:"ProfileHeader_header_box__OIVtL"}},159:function(e,t,n){e.exports={content:"LeftColumn_content__buQFL"}},160:function(e,t,n){e.exports={friends:"Friends_friends__2zWWu"}},161:function(e,t,n){e.exports={content:"RightColumn_content__1fisV"}},191:function(e,t,n){},23:function(e,t,n){e.exports={statistic:"StatisticPanel_statistic__3L6Ed",box:"StatisticPanel_box__aoVUN"}},26:function(e,t,n){e.exports={pageButtons_container:"Paginator_pageButtons_container__29Pjk",pageButton:"Paginator_pageButton__2Uiet",number:"Paginator_number__2NoAc",pageCheckedStyle:"Paginator_pageCheckedStyle__1vYWJ",invisibleButton:"Paginator_invisibleButton__17jUD"}},279:function(e,t,n){},320:function(e,t,n){"use strict";n.r(t);var s,a=n(1),o=n.n(a),r=(n(191),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,321)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),o(e),r(e)}))}),i=n(77),c=n.n(i),u=n(9),l=n(51),d=n(3),j=n(11),p={dialogs:[{id:Object(j.v1)(),name:"\u0412\u0438\u0442\u0430\u043b\u0438\u043a"},{id:Object(j.v1)(),name:"\u042f\u043d\u0430"},{id:Object(j.v1)(),name:"\u0418\u0440\u0430"},{id:Object(j.v1)(),name:"\u0410\u043d\u0434\u0440\u0435\u0439"},{id:Object(j.v1)(),name:"\u0410\u0440\u0442\u0443\u0440"}],messages:[{id:Object(j.v1)(),message:"Hi"},{id:Object(j.v1)(),message:"How are you?"},{id:Object(j.v1)(),message:"What are you doing?"}]},b=function(e){return{type:"DIALOGS/SEND_MESSAGE",newMessage:e}},h=n(150),f=n.n(h).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4fe92c3a-1b95-46fb-8296-15a97f910aa4"}}),g=function(e,t){return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},m=function(e){return f.post("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return f.delete("follow/".concat(e)).then((function(e){return e.data}))},x=function(e){return f.get("profile/".concat(e)).then((function(e){return e.data}))},_=function(e){return f.get("profile/status/".concat(e))},v=function(e){return f.put("profile/status",{status:e}).then((function(e){return e.data}))},P=function(e){var t=new FormData;return t.append("image",e),f.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},S=function(e){return f.put("profile",e)},N=function(){return f.get("auth/me")},C=function(e,t,n){return f.post("auth/login",{email:e,password:t,rememberMe:n})},k=function(){return f.delete("auth/login")};!function(e){e[e.success=0]="success",e[e.error=1]="error"}(s||(s={}));var E={posts:[{id:Object(j.v1)(),message:"Hi"},{id:Object(j.v1)(),message:"How are you?"},{id:Object(j.v1)(),message:"What are you doing?"}],profile:null,status:""},w=function(e){return{type:"PROFILE/ADD-POST",newPostMessage:e}},I=function(e){return{type:"PROFILE/SET-USER-PROFILE",profile:e}},R=function(e){return{type:"PROFILE/SET-PROFILE-STATUS",status:e}},L=function(e){return{type:"PROFILE/SET-PHOTOS",photos:e}},y=function(e){return function(t){x(e).then((function(e){t(I(e))}))}},A={navbarItems:[{id:Object(j.v1)(),title:"\u2713 Profile",path:"profile"},{id:Object(j.v1)(),title:"\u2709 Messages",path:"dialogs"},{id:Object(j.v1)(),title:"\u2616 News",path:"news"},{id:Object(j.v1)(),title:"\u266b Music",path:"music"},{id:Object(j.v1)(),title:"\u2731 Settings",path:"settings"},{id:Object(j.v1)(),title:"\u262f Users",path:"users"}]},M={users:[],totalCount:0,pageSize:5,checkedPage:1,maxRenderPages:5,minRenderPages:0,isLoading:!1,followInProgress:[]},B=function(e){return{type:"USERS/FOLLOW",userID:e}},U=function(e){return{type:"USERS/UNFOLLOW",userID:e}},D=function(e){return{type:"USERS/SET-USERS",users:e}},T=function(e){return{type:"USERS/SET-TOTAL-COUNT",totalCount:e}},F=function(e){return{type:"USERS/SET-CHECKED-PAGE",checkedPage:e}},z=function(e){return{type:"USERS/SET-MAX-RENDER-PAGE",maxRenderPages:e}},H=function(e){return{type:"USERS/SET-MIN-RENDER-PAGE",minRenderPages:e}},G=function(e){return{type:"USERS/SET-LOADING",isLoading:e}},J=function(e,t){return{type:"USERS/SET-FOLLOW-IN-PROGRESS",userID:e,isLoading:t}},W=n(107),K=n.n(W),V=n(151),Y=n(40),X={userId:null,email:null,login:null,isAuth:!1},q=function(e){return{type:"AUTH/SET-USER-DATA",data:e}},Z=function(){return function(){var e=Object(V.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N().then((function(e){if(e.data.resultCode===s.success){var n=e.data.data,a=n.id,o=n.email,r=n.login;t(q({userId:a,email:o,login:r,isAuth:!0}))}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=n(152),$=n(149),ee={initialized:!1},te=function(){return{type:"APP/SET-INITIALIZED"}},ne=Object(u.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-INITIALIZED":return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/ADD-POST":var n={id:Object(j.v1)(),message:t.newPostMessage};return Object(d.a)(Object(d.a)({},e),{},{posts:[n].concat(Object(l.a)(e.posts))});case"PROFILE/SET-USER-PROFILE":return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case"PROFILE/SET-PROFILE-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case"PROFILE/SET-PHOTOS":return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photos})});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOGS/SEND_MESSAGE":var n={id:Object(j.v1)(),message:t.newMessage};return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(l.a)(e.messages),[n])});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/FOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID&&(e.followed=!0),e}))});case"USERS/UNFOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID&&(e.followed=!1),e}))});case"USERS/SET-USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"USERS/SET-TOTAL-COUNT":return Object(d.a)(Object(d.a)({},e),{},{totalCount:t.totalCount});case"USERS/SET-CHECKED-PAGE":return Object(d.a)(Object(d.a)({},e),{},{checkedPage:t.checkedPage});case"USERS/SET-MIN-RENDER-PAGE":return Object(d.a)(Object(d.a)({},e),{},{minRenderPages:t.minRenderPages});case"USERS/SET-MAX-RENDER-PAGE":return Object(d.a)(Object(d.a)({},e),{},{maxRenderPages:t.maxRenderPages});case"USERS/SET-LOADING":return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.isLoading});case"USERS/SET-FOLLOW-IN-PROGRESS":return Object(d.a)(Object(d.a)({},e),{},{followInProgress:t.isLoading?[].concat(Object(l.a)(e.followInProgress),[t.userID]):e.followInProgress.filter((function(e){return e!==t.userID}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-USER-DATA":return Object(d.a)(Object(d.a)({},e),t.data);default:return e}},form:$.a}),se=Object(u.e)(ne,Object(u.a)(Q.a));window.store=se;var ae=n(16),oe=n(10),re=n(29),ie=n(30),ce=n(32),ue=n(31),le=(n(279),n(12)),de=n(154),je=n.n(de),pe=n(0);function be(e){return Object(pe.jsx)("div",{className:je.a.news})}var he=n(155),fe=n.n(he);function ge(e){return Object(pe.jsx)("div",{className:fe.a.music})}var me=n(156),Oe=n.n(me);function xe(e){return Object(pe.jsx)("div",{className:Oe.a.settings})}var _e=n(108),ve=n.n(_e);function Pe(e){var t="/"+e.path;return Object(pe.jsx)("div",{className:ve.a.item,children:Object(pe.jsx)(ae.b,{to:t,activeClassName:ve.a.activeLink,children:e.title})})}var Se=n(111),Ne=n.n(Se);var Ce=Object(oe.b)((function(e){return{navbarItems:e.navbar.navbarItems}}))((function(e){var t=e.navbarItems.map((function(e){return Object(pe.jsx)(Pe,{id:e.id,title:e.title,path:e.path},e.id)}));return Object(pe.jsx)("nav",{className:Ne.a.nav,children:Object(pe.jsx)("div",{className:Ne.a.menu,children:t})})})),ke=n(64),Ee=n.n(ke),we=n(84),Ie=n.n(we);function Re(e){var t="/dialogs/"+e.id;return Object(pe.jsx)("div",{className:Ie.a.dialog,children:Object(pe.jsx)(ae.b,{to:t,activeClassName:Ie.a.activeLink,children:Object(pe.jsx)("div",{className:Ie.a.dialog_box,children:e.name})})})}var Le=n(43),ye=n.n(Le);function Ae(e){return Object(pe.jsxs)("div",{className:ye.a.message_box,children:[Object(pe.jsx)("img",{className:ye.a.avatar,src:"https://goo.su/4zdi",alt:""}),Object(pe.jsx)("div",{className:ye.a.angle}),Object(pe.jsxs)("div",{className:ye.a.message,children:[Object(pe.jsx)("div",{className:ye.a.nickname,children:"//--Nickname--//"}),e.message,Object(pe.jsx)("div",{className:ye.a.time,children:"//-22:00-//"})]})]})}var Me=function(e){if(!e)return"Invalid data"},Be=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},Ue=n(148),De=n(14),Te=n(65),Fe=n.n(Te),ze=["input","meta","children"],He=["input"],Ge=["input"],Je=function(e){e.input;var t=e.meta,n=t.touched,s=t.error,a=e.children,o=(Object(De.a)(e,ze),n&&s);return Object(pe.jsxs)("div",{className:"".concat(Fe.a.formControl," ").concat(o?Fe.a.error:""),children:[Object(pe.jsx)("div",{children:a}),o&&Object(pe.jsx)("span",{children:s})]})},We=function(e){var t=e.input,n=Object(De.a)(e,He);return Object(pe.jsx)(Je,Object(d.a)(Object(d.a)({},e),{},{children:Object(pe.jsx)("textarea",Object(d.a)(Object(d.a)({className:Fe.a.textarea},t),n))}))},Ke=function(e){var t=e.input,n=Object(De.a)(e,Ge);return Object(pe.jsx)(Je,Object(d.a)(Object(d.a)({},e),{},{children:Object(pe.jsx)("input",Object(d.a)(Object(d.a)({className:Fe.a.input},t),n))}))},Ve=n(157),Ye=n.n(Ve),Xe=["title","disabled","children","onClick","className"],qe=function(e){var t=e.title,n=e.disabled,s=e.children,a=e.onClick,o=e.className,r=Object(De.a)(e,Xe),i="".concat(Ye.a.button," ").concat(o);return Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsx)("button",Object(d.a)(Object(d.a)({className:i,onClick:function(){a&&a()},disabled:n},r),{},{children:s||t}))})},Ze=n(85),Qe=n.n(Ze),$e=n(147),et=function(e,t,n,s,a,o){return Object(pe.jsxs)("div",{className:t===Ke?"".concat(Qe.a.input):"checkbox"===a?"".concat(Qe.a.checkbox):t===We?"".concat(Qe.a.textBox):void 0,children:[Object(pe.jsx)($e.a,{placeholder:n,name:e,component:t,validate:s||null,type:a||""})," ",o]})},tt=Be(30),nt=Object(Ue.a)({form:"AddMessage"})((function(e){return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[et("newMessage",We,"Enter your message!!!",[Me,tt]),Object(pe.jsx)(qe,{children:"Send"})]})}));var st=["isAuth"];function at(e){return Object(oe.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=t.isAuth,s=Object(De.a)(t,st);return n?Object(pe.jsx)(e,Object(d.a)({},s)):Object(pe.jsx)(le.a,{to:"/login"})}))}var ot=Object(u.d)(at,Object(oe.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages}}),(function(e){return{sendMessage:function(t){e(b(t))}}})))((function(e){var t=e.dialogs.map((function(e){return Object(pe.jsx)(Re,{id:e.id,name:e.name},e.id)})),n=e.messages.map((function(e){return Object(pe.jsx)(Ae,{id:e.id,message:e.message},e.id)}));return Object(pe.jsxs)("div",{className:Ee.a.dialogs,children:[Object(pe.jsx)("div",{className:Ee.a.dialogs_box,children:t}),Object(pe.jsx)("div",{className:Ee.a.messages_box,children:n}),Object(pe.jsx)("div",{className:Ee.a.addMessage_box,children:Object(pe.jsx)(nt,{onSubmit:function(t){e.sendMessage(t.newMessage)}})})]})})),rt=n(66),it=n.n(rt),ct=n(158),ut=n.n(ct),lt=o.a.memo((function(e){return Object(pe.jsx)("div",{className:ut.a.header_box,children:Object(pe.jsx)("img",{src:"https://goo.su/4vY0",alt:""})})})),dt=n(67),jt=n.n(dt),pt=n(81),bt=n.n(pt);function ht(){return Object(pe.jsx)("div",{className:bt.a.preloader,children:Object(pe.jsx)("img",{src:"https://goo.su/5SAB",alt:"preloader"})})}var ft=o.a.memo((function(e){var t=e.profile,n=e.isOwner,s=e.updatePhotos;return t?Object(pe.jsxs)("div",{className:jt.a.avatar,children:[Object(pe.jsx)("img",{src:t.photos.large||"https://goo.su/4zdi",alt:"avatar"}),n&&Object(pe.jsxs)("div",{className:jt.a.changeAvatar_container,children:[Object(pe.jsx)("input",{type:"file",id:"input_file",className:jt.a.input_file,onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&s(e.target.files[0])}}),Object(pe.jsx)("label",{className:jt.a.changeAvatar,htmlFor:"input_file",children:"Edit"})]})]}):Object(pe.jsx)(ht,{})})),gt=n(159),mt=n.n(gt),Ot=n(160),xt=n.n(Ot),_t=o.a.memo((function(e){return Object(pe.jsx)("div",{className:xt.a.friends,children:"Friends"})})),vt=o.a.memo((function(e){var t=e.profile,n=e.isOwner;return Object(pe.jsxs)("div",{className:mt.a.content,children:[Object(pe.jsx)(ft,{profile:t,isOwner:n,updatePhotos:e.updatePhotos}),Object(pe.jsx)(_t,{})]})})),Pt=n(161),St=n.n(Pt),Nt=n(87),Ct=n.n(Nt),kt=n(114),Et=n.n(kt),wt=n(88),It=n.n(wt),Rt=["type","onChange","onChangeText","onKeyPress","onEnter","error","className","errorClassName"],Lt=function(e){e.type;var t=e.onChange,n=e.onChangeText,s=e.onKeyPress,a=e.onEnter,o=e.error,r=e.className,i=e.errorClassName,c=Object(De.a)(e,Rt),u="".concat(o?It.a.errorInput:It.a.mainStyle," ").concat(r),l="".concat(It.a.error," ").concat(i||"");return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("input",Object(d.a)({type:"text",className:u,onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){s&&s(e),a&&"Enter"===e.key&&a()}},c)),o&&Object(pe.jsx)("div",{className:l,children:o})]})},yt=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(re.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(ie.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(pe.jsxs)("div",{className:Et.a.status,children:[!this.state.editMode&&Object(pe.jsx)("div",{onDoubleClick:this.activateEditMode,className:Et.a.title,children:this.props.status||"No status"}),this.state.editMode&&Object(pe.jsx)(Lt,{autoFocus:!0,onChange:this.onChangeStatus,onBlur:this.deactivateEditMode,value:this.state.status,type:"text"})]})}}]),n}(a.PureComponent),At=n(23),Mt=n.n(At),Bt=function(e){return Object(pe.jsxs)("div",{className:Mt.a.statistic,children:[Object(pe.jsxs)("div",{className:"".concat(Mt.a.subs," ").concat(Mt.a.box),children:[Object(pe.jsx)("div",{children:"0"}),Object(pe.jsx)("div",{children:"Subs"})]}),Object(pe.jsxs)("div",{className:"".concat(Mt.a.news," ").concat(Mt.a.box),children:[Object(pe.jsx)("div",{children:"0"}),Object(pe.jsx)("div",{children:"News"})]}),Object(pe.jsxs)("div",{className:"".concat(Mt.a.photo," ").concat(Mt.a.box),children:[Object(pe.jsx)("div",{children:"0"}),Object(pe.jsx)("div",{children:"Photos"})]}),Object(pe.jsxs)("div",{className:"".concat(Mt.a.videos," ").concat(Mt.a.box),children:[Object(pe.jsx)("div",{children:"0"}),Object(pe.jsx)("div",{children:"Videos"})]}),Object(pe.jsxs)("div",{className:"".concat(Mt.a.friends," ").concat(Mt.a.box),children:[Object(pe.jsx)("div",{children:"0"}),Object(pe.jsx)("div",{children:"Music"})]})]})},Ut=n(89),Dt=n.n(Ut),Tt=function(e){return Object(pe.jsxs)("div",{className:Dt.a.photos,children:[Object(pe.jsx)("div",{className:Dt.a.title,children:"Photos"}),Object(pe.jsxs)("div",{className:Dt.a.img_box,children:[Object(pe.jsx)("img",{src:"https://goo.su/4zdi",alt:"#"}),Object(pe.jsx)("img",{src:"https://goo.su/4zdi",alt:"#"}),Object(pe.jsx)("img",{src:"https://goo.su/4zdi",alt:"#"}),Object(pe.jsx)("img",{src:"https://goo.su/4zdi",alt:"#"})]})]})},Ft=n(116),zt=n(44),Ht=n.n(zt),Gt=n(42),Jt=n.n(Gt),Wt=function(e){return Object(pe.jsxs)("div",{className:Jt.a.contact_box,children:[Object(pe.jsx)("div",{className:Jt.a.title,children:e.title}),Object(pe.jsx)("a",{href:e.contact,target:"_blank",rel:"noreferrer",children:Object(pe.jsx)("div",{className:Jt.a.link,children:(e.contact||"Null").split("").map((function(e,t){return Object(pe.jsx)("span",{children:e},t)}))})})]})},Kt=n(164),Vt=function(e){var t=e.contacts,n=e.isOwner,o=Object(a.useState)(!1),r=Object(Ft.a)(o,2),i=r[0],c=r[1],u=Object(a.useState)(!1),l=Object(Ft.a)(u,2),j=l[0],p=l[1],b=Object(oe.c)(),h=function(){c(!i)},f=Object(Kt.a)({initialValues:Object(d.a)({},t),onSubmit:function(e){var t;b((t=function(e){return{userId:17320,fullName:"kelek",lookingForAJob:!1,lookingForAJobDescription:"Test",contacts:Object(d.a)({},e),aboutMe:"Test"}}(e),function(e,n){var a,o=null===(a=n().profilePage.profile)||void 0===a?void 0:a.userId;S(t).then((function(t){t.data.resultCode===s.success&&o&&e(y(o))}))})),h()}}),g=["facebook","website","vk","twitter","instagram","youtube","github","mainLink"],m=g.map((function(e){return Object(pe.jsx)(Wt,{title:e+": ",contact:t[e]})})),O=g.map((function(e){return Object(pe.jsxs)("div",{className:Jt.a.contact_box,children:[Object(pe.jsx)("div",{className:Jt.a.title,children:e+": "}),Object(pe.jsx)(Lt,{name:e,onChange:f.handleChange,value:f.values[e],className:Ht.a.input})]})}));return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("div",{className:Ht.a.moreInfoButton,onClick:function(){p(!j),i&&c(!1)},children:Object(pe.jsx)("span",{children:j?"Hide info":"Watch more"})}),Object(pe.jsx)("div",{className:"".concat(Ht.a.moreInfo," ").concat(j&&Ht.a.open),children:i?Object(pe.jsxs)("form",{onSubmit:f.handleSubmit,children:[n&&Object(pe.jsx)(qe,{className:Ht.a.editButton,children:i?"Save":"Edit"}),O]}):Object(pe.jsxs)("div",{children:[n&&Object(pe.jsx)(qe,{className:Ht.a.editButton,onClick:h,children:i?"Save":"Edit"}),m]})})]})},Yt=o.a.memo((function(e){var t=e.status,n=e.updateStatus;return e.profile?Object(pe.jsxs)("div",{className:Ct.a.description,children:[Object(pe.jsx)("div",{className:Ct.a.name,children:e.profile.fullName||"Information is not defined"}),Object(pe.jsx)(yt,{status:t,updateStatus:n}),Object(pe.jsxs)("div",{className:Ct.a.job,children:["Looking for a job: ",e.profile.lookingForAJob?"Yes":"Later"]}),Object(pe.jsx)(Vt,{contacts:e.profile.contacts,isOwner:e.isOwner}),Object(pe.jsx)(Bt,{}),Object(pe.jsx)(Tt,{})]}):Object(pe.jsx)(ht,{})})),Xt=n(52),qt=n.n(Xt),Zt=n(90),Qt=n.n(Zt),$t=o.a.memo((function(e){var t=e.message,n=e.photos;return Object(pe.jsxs)("div",{className:Qt.a.item,children:[Object(pe.jsx)("div",{className:Qt.a.avatar,children:Object(pe.jsx)("img",{src:(null===n||void 0===n?void 0:n.small)||"https://goo.su/4zdi",alt:""})}),Object(pe.jsx)("div",{className:Qt.a.message,children:t})]})})),en=Be(30),tn=Object(Ue.a)({form:"AddPostForm"})((function(e){return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[et("newPostMessage",We,"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?)",[Me,en]),Object(pe.jsx)("div",{className:qt.a.add,children:Object(pe.jsx)(qe,{children:"Add Post"})})]})})),nn=o.a.memo((function(e){var t=e.posts.map((function(t){return Object(pe.jsx)($t,{message:t.message,photos:e.photos},t.id)}));return Object(pe.jsxs)("div",{className:qt.a.posts_box,children:[Object(pe.jsxs)("div",{className:qt.a.addPost,children:[Object(pe.jsx)("h3",{children:"My Posts"}),Object(pe.jsx)(tn,{onSubmit:function(t){e.addPost(t.newPostMessage)}})]}),Object(pe.jsx)("div",{className:qt.a.posts,children:t})]})})),sn=Object(oe.b)((function(e){var t;return{posts:e.profilePage.posts,photos:null===(t=e.profilePage.profile)||void 0===t?void 0:t.photos}}),(function(e){return{addPost:function(t){e(w(t))}}}))(nn);function an(e){return Object(pe.jsxs)("div",{className:St.a.content,children:[Object(pe.jsx)(Yt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),Object(pe.jsx)("div",{children:Object(pe.jsx)(sn,{})})]})}var on=function(e){var t=e.profile,n=e.isOwner;return Object(pe.jsxs)("div",{className:it.a.profile,children:[Object(pe.jsx)(lt,{}),Object(pe.jsxs)("div",{className:it.a.content,children:[Object(pe.jsx)("div",{className:it.a.left,children:Object(pe.jsx)(vt,{profile:t,isOwner:n,updatePhotos:e.updatePhotos})}),Object(pe.jsx)("div",{className:it.a.right,children:Object(pe.jsx)(an,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:n})})]})]})},rn=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(re.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.authUserId)||this.props.history.push("/login"),"number"===typeof e&&(this.props.getProfile(e),this.props.getStatus(e))}},{key:"render",value:function(){return Object(pe.jsx)(on,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,updatePhotos:this.props.updatePhotos,isOwner:!this.props.match.params.userId})}}]),n}(a.PureComponent),cn={setUserProfile:I,getProfile:y,getStatus:function(e){return function(t){_(e).then((function(e){t(R(e.data))}))}},updateStatus:function(e){return function(t){v(e).then((function(n){n.resultCode===s.success&&t(R(e))}))}},updatePhotos:function(e){return function(t){P(e).then((function(e){e.resultCode===s.success&&t(L(e.data.photos))}))}}},un=Object(u.d)(Object(oe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),cn),le.f,at)(rn),ln=n(53),dn=n.n(ln),jn=n.p+"static/media/logo.66b92708.jpg",pn=n.p+"static/media/authLogo.208406da.jpg";function bn(e){var t=(null!==e.login?e.login:"No authorization").split("").map((function(e,t){return Object(pe.jsx)("span",{children:e},t)}));return Object(pe.jsxs)("header",{className:dn.a.header,children:[Object(pe.jsx)("div",{className:dn.a.logo,children:Object(pe.jsx)("img",{src:jn,alt:"logo"})}),Object(pe.jsx)("div",{className:dn.a.title,children:t}),Object(pe.jsx)(ae.b,{to:"/login",children:Object(pe.jsx)("div",{className:dn.a.auth,children:e.isAuth?Object(pe.jsx)("div",{className:dn.a.logout,onClick:e.logout,children:"x"}):Object(pe.jsx)("img",{src:pn,alt:"auth"})})})]})}var hn=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(re.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"render",value:function(){return Object(pe.jsx)(bn,Object(d.a)({},this.props))}}]),n}(a.PureComponent),fn={logout:function(){return function(e){k().then((function(t){if(t.data.resultCode===s.success){e(q({userId:null,email:null,login:null,isAuth:!1}))}}))}}},gn=Object(oe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),fn)(hn),mn=n(115),On=n.n(mn),xn=n(45),_n=n.n(xn),vn=["user","isLoading","followInProgress","unfollow","follow"],Pn=function(e){var t=e.user,n=e.isLoading,s=e.followInProgress,a=e.unfollow,o=e.follow;Object(De.a)(e,vn);return Object(pe.jsxs)("div",{className:"".concat(_n.a.user_box," ").concat(n?bt.a.blurScreen:null),children:[Object(pe.jsx)("div",{className:_n.a.avatar,children:Object(pe.jsx)(ae.b,{to:"/profile/"+t.id,children:Object(pe.jsx)("img",{src:t.photos.small||"https://goo.su/4zdi",alt:"#"})})}),Object(pe.jsxs)("div",{className:_n.a.info,children:[Object(pe.jsx)(ae.b,{to:"/profile/"+t.id,children:Object(pe.jsx)("div",{className:_n.a.name,children:t.name})}),Object(pe.jsx)("div",{className:_n.a.status,children:t.status||"No status"}),Object(pe.jsx)("div",{className:_n.a.follow_button,children:Object(pe.jsx)(qe,{disabled:s.some((function(e){return e===t.id})),onClick:function(){t.followed?a(t.id):o(t.id)},children:t.followed?"Unfollow":"Follow"})})]})]})},Sn=n(26),Nn=n.n(Sn),Cn=["totalCount","pageSize","checkedPage","maxRenderPages","minRenderPages","pageButtonClick","previousButtonClick","nextButtonClick"],kn=function(e){for(var t=e.totalCount,n=e.pageSize,s=e.checkedPage,a=e.maxRenderPages,o=e.minRenderPages,r=e.pageButtonClick,i=e.previousButtonClick,c=e.nextButtonClick,u=(Object(De.a)(e,Cn),Math.ceil(t/n)),l=[],d=1;d<=u;d++)l.push(d);var j=l.map((function(e,t){var n="".concat(Nn.a.pageButton," ").concat(s===e&&Nn.a.pageCheckedStyle);return e<=a&&e>o?Object(pe.jsx)("div",{className:n,onClick:function(){return r(e)},children:Object(pe.jsx)("div",{className:Nn.a.number,children:e})},t):null}));return Object(pe.jsxs)("div",{className:Nn.a.pageButtons_container,children:[Object(pe.jsx)("div",{className:"".concat(Nn.a.pageButton," ").concat(1===e.checkedPage?Nn.a.invisibleButton:null),onClick:i,children:Object(pe.jsx)("div",{className:Nn.a.number,children:"Back"})}),j,Object(pe.jsx)("div",{className:"".concat(Nn.a.pageButton," ").concat(e.checkedPage>=e.totalCount-5?Nn.a.invisibleButton:null),onClick:function(){return c(u)},children:Object(pe.jsx)("div",{className:Nn.a.number,children:"Next"})})]})},En=["users","totalCount","pageSize","checkedPage","maxRenderPages","minRenderPages","pageButtonClick","previousButtonClick","nextButtonClick","isLoading","unfollow","followInProgress","follow"],wn=function(e){var t=e.users,n=e.totalCount,s=e.pageSize,a=e.checkedPage,o=e.maxRenderPages,r=e.minRenderPages,i=e.pageButtonClick,c=e.previousButtonClick,u=e.nextButtonClick,l=e.isLoading,d=e.unfollow,j=e.followInProgress,p=e.follow,b=(Object(De.a)(e,En),t.map((function(e){return Object(pe.jsx)(Pn,{user:e,isLoading:l,followInProgress:j,unfollow:d,follow:p},e.id)})));return Object(pe.jsxs)("div",{className:On.a.users,children:[e.isLoading&&Object(pe.jsx)(ht,{}),Object(pe.jsx)("h2",{className:On.a.title,children:"Users"}),b,Object(pe.jsx)(kn,{totalCount:n,pageSize:s,checkedPage:a,maxRenderPages:o,minRenderPages:r,pageButtonClick:i,previousButtonClick:c,nextButtonClick:u})]})},In=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(re.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).pageButtonClick=function(t){e.props.setCheckedPage(t),e.props.getUsers(t,e.props.pageSize)},e.previousButtonClick=function(){e.props.setCheckedPage(e.props.checkedPage-1),e.pageButtonClick(e.props.checkedPage-1),e.props.checkedPage-1===e.props.minRenderPages&&(e.props.setMinRenderPage(e.props.minRenderPages-5),e.props.setMaxRenderPage(e.props.maxRenderPages-5))},e.nextButtonClick=function(t){e.props.checkedPage<t&&(e.props.setCheckedPage(e.props.checkedPage+1),e.pageButtonClick(e.props.checkedPage+1),e.props.checkedPage===e.props.maxRenderPages&&(e.props.setMinRenderPage(e.props.minRenderPages+5),e.props.setMaxRenderPage(e.props.maxRenderPages+5)))},e}return Object(ie.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.checkedPage,this.props.pageSize)}},{key:"render",value:function(){return Object(pe.jsx)(wn,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,maxRenderPages:this.props.maxRenderPages,minRenderPages:this.props.minRenderPages,checkedPage:this.props.checkedPage,pageButtonClick:this.pageButtonClick,users:this.props.users,previousButtonClick:this.previousButtonClick,nextButtonClick:this.nextButtonClick,isLoading:this.props.isLoading,setLoading:this.props.setLoading,followInProgress:this.props.followInProgress,setFollowInProgress:this.props.setFollowInProgress,follow:this.props.follow,unfollow:this.props.unfollow})}}]),n}(a.PureComponent),Rn={setCheckedPage:F,setMinRenderPage:H,setMaxRenderPage:z,setLoading:G,setFollowInProgress:J,getUsers:function(e,t){return function(n){n(G(!0)),g(e,t).then((function(e){n(G(!1)),n(D(e.items)),n(T(e.totalCount))})).catch((function(e){throw e}))}},follow:function(e){return function(t){t(J(e,!0)),m(e).then((function(n){n.resultCode===s.success&&(t(B(e)),t(J(e,!1)))})).catch((function(e){throw e}))}},unfollow:function(e){return function(t){t(J(e,!0)),O(e).then((function(n){n.resultCode===s.success&&(t(U(e)),t(J(e,!1)))})).catch((function(e){throw e}))}}},Ln=Object(u.d)(Object(oe.b)((function(e){return{users:e.usersPage.users,totalCount:e.usersPage.totalCount,pageSize:e.usersPage.pageSize,checkedPage:e.usersPage.checkedPage,minRenderPages:e.usersPage.minRenderPages,maxRenderPages:e.usersPage.maxRenderPages,isLoading:e.usersPage.isLoading,followInProgress:e.usersPage.followInProgress}}),Rn),at)(In),yn=n(63),An=n.n(yn),Mn=["error","handleSubmit"],Bn=Be(35),Un=Be(20),Dn=o.a.memo((function(e){var t=e.error,n=e.handleSubmit;Object(De.a)(e,Mn);return Object(pe.jsxs)("form",{onSubmit:n,children:[Object(pe.jsx)("h2",{children:"login"}),et("email",Ke,"Email",[Me,Bn]),et("password",Ke,"Password",[Me,Un],"password"),et("password","input","Password",[],"checkbox","Remember me"),t&&Object(pe.jsx)("div",{style:{color:"#e56969",marginBottom:"10px"},children:t}),Object(pe.jsx)("div",{className:An.a.button,children:Object(pe.jsx)(qe,{children:"Login"})})]})})),Tn=Object(Ue.a)({form:"Login"})(Dn),Fn=["login","isAuth"],zn=o.a.memo((function(e){var t=e.login,n=e.isAuth;Object(De.a)(e,Fn);return n?Object(pe.jsx)(le.a,{to:"/profile"}):Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)("div",{className:An.a.testData,children:[Object(pe.jsx)("h3",{children:"Test data"}),Object(pe.jsx)("div",{children:"Email: free@samuraijs.com"}),Object(pe.jsx)("div",{children:"Password: free"})]}),Object(pe.jsx)("div",{className:An.a.login,children:Object(pe.jsx)(Tn,{onSubmit:function(e){t(e.email,e.password,e.rememberMe)}})})]})})),Hn={login:function(e,t,n){return function(a){C(e,t,n).then((function(e){if(e.data.resultCode===s.success)a(Z());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some Error";a(Object(Y.a)("Login",{_error:t}))}}))}}},Gn=Object(oe.b)((function(e){return{isAuth:e.auth.isAuth}}),Hn)(zn),Jn=function(e){Object(ce.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(re.a)(this,n),t.apply(this,arguments)}return Object(ie.a)(n,[{key:"componentDidMount",value:function(){this.props.initApp()}},{key:"render",value:function(){return this.props.initialized?Object(pe.jsxs)("div",{className:"app-wrapper",children:[Object(pe.jsx)(gn,{}),Object(pe.jsx)(Ce,{}),Object(pe.jsxs)("div",{className:"app-wrapper-content",children:[Object(pe.jsx)(le.b,{path:"/dialogs",render:function(){return Object(pe.jsx)(ot,{})}}),Object(pe.jsx)(le.b,{path:"/profile/:userId?",render:function(){return Object(pe.jsx)(un,{})}}),Object(pe.jsx)(le.b,{path:"/news",render:function(){return Object(pe.jsx)(be,{})}}),Object(pe.jsx)(le.b,{path:"/music",render:function(){return Object(pe.jsx)(ge,{})}}),Object(pe.jsx)(le.b,{path:"/settings",render:function(){return Object(pe.jsx)(xe,{})}}),Object(pe.jsx)(le.b,{path:"/users",render:function(){return Object(pe.jsx)(Ln,{})}}),Object(pe.jsx)(le.b,{path:"/login",render:function(){return Object(pe.jsx)(Gn,{})}})]})]}):Object(pe.jsx)(ht,{})}}]),n}(a.PureComponent),Wn={initApp:function(){return function(e){var t=e(Z());Promise.all([t]).then((function(){e(te())}))}}},Kn=Object(u.d)(le.f,Object(oe.b)((function(e){return{initialized:e.app.initialized}}),Wn))(Jn);c.a.render(Object(pe.jsx)(ae.a,{children:Object(pe.jsx)(oe.a,{store:se,children:Object(pe.jsx)(Kn,{})})}),document.getElementById("root")),r()},42:function(e,t,n){e.exports={title:"Contact_title__20Xq7",contact_box:"Contact_contact_box__15ksy",link:"Contact_link__1DdsJ"}},43:function(e,t,n){e.exports={message_box:"MessageItem_message_box__1P7KO",message:"MessageItem_message__2haoH",nickname:"MessageItem_nickname__1g2HJ",avatar:"MessageItem_avatar__2zx1m",time:"MessageItem_time__rHl4T",angle:"MessageItem_angle__o-kOn"}},44:function(e,t,n){e.exports={moreInfo:"Contacts_moreInfo__FBbG2",open:"Contacts_open__1_pSi",editButton:"Contacts_editButton__2kLZR",moreInfoButton:"Contacts_moreInfoButton__2nOKx",input:"Contacts_input__2_9Kg"}},45:function(e,t,n){e.exports={user_box:"User_user_box__ERbh3",avatar:"User_avatar__2BeG2",info:"User_info__2o69X",name:"User_name__3g4DE",status:"User_status__1eO1q",follow_button:"User_follow_button__1QLyZ"}},52:function(e,t,n){e.exports={posts_box:"MyPosts_posts_box__3JDxe",addPost:"MyPosts_addPost__h0et1",add:"MyPosts_add__ipd7X",posts:"MyPosts_posts__34-e_"}},53:function(e,t,n){e.exports={header:"Header_header__3OBxX",logo:"Header_logo__1eBUw",auth:"Header_auth__11Cod",title:"Header_title__2fVYD",logout:"Header_logout__3eyFt"}},63:function(e,t,n){e.exports={login:"Login_login__hG5eE",testData:"Login_testData__I_SVs"}},64:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2DAz_",messages_box:"Dialogs_messages_box__2F1CF",dialogs_box:"Dialogs_dialogs_box__10qbU",addMessage_box:"Dialogs_addMessage_box__3oTC3"}},65:function(e,t,n){e.exports={textarea:"FormControl_textarea__2VTbG",input:"FormControl_input__3axJv",formControl:"FormControl_formControl__2sLYg",error:"FormControl_error__3xJAc"}},66:function(e,t,n){e.exports={profile:"Profile_profile__1zMxI",content:"Profile_content__iBUqt",left:"Profile_left__2MzlM",right:"Profile_right__3iLeN"}},67:function(e,t,n){e.exports={avatar:"Avatar_avatar__2fkso",changeAvatar_container:"Avatar_changeAvatar_container__haMJR",input_file:"Avatar_input_file__74ADe",changeAvatar:"Avatar_changeAvatar__1xw1E"}},81:function(e,t,n){e.exports={preloader:"Preloader_preloader__38rH9",rotation:"Preloader_rotation__33xeh",blurScreen:"Preloader_blurScreen__2IFyE"}},84:function(e,t,n){e.exports={dialog_box:"DialogItem_dialog_box__31L2n",dialog:"DialogItem_dialog__MUQtu",activeLink:"DialogItem_activeLink__35-w8"}},85:function(e,t,n){e.exports={input:"CreateField_input__2kptp",button:"CreateField_button__1GwsF",checkbox:"CreateField_checkbox__3n6Hn",textBox:"CreateField_textBox__3aWmD"}},87:function(e,t,n){e.exports={description:"Description_description__2r7q7",name:"Description_name__2gjnk",job:"Description_job__3LbsS"}},88:function(e,t,n){e.exports={mainStyle:"SuperInput_mainStyle__12Umu",errorInput:"SuperInput_errorInput__2dE43",error:"SuperInput_error__xEjA-"}},89:function(e,t,n){e.exports={photos:"Photos_photos__23lfW",img_box:"Photos_img_box__3xTIk",title:"Photos_title__2mfvb"}},90:function(e,t,n){e.exports={item:"Post_item__1bhgE",avatar:"Post_avatar__FmB8B",message:"Post_message__DZgm_"}}},[[320,1,2]]]);
//# sourceMappingURL=main.08c922c0.chunk.js.map